{% extends 'shop/base.html' %}

{% block title %}Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯{% endblock %}

{% block content %}
<style>
    .popular-header {
        text-align: center;
        padding: 40px 20px;
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        margin-bottom: 40px;
        border-radius: 0 0 20px 20px;
    }
    
    .popular-list {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }
    
    .popular-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 25px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        display: grid;
        grid-template-columns: 100px 1fr auto;
        gap: 25px;
        align-items: center;
        transition: transform 0.3s;
    }
    
    .popular-card:hover {
        transform: translateY(-5px);
    }
    
    .rank-badge {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #f72585, #b5179e);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
    }
    
    .product-info h3 {
        margin: 0 0 10px 0;
        color: #2c3e50;
    }
    
    .view-count {
        background: #e8f4fd;
        color: #3498db;
        padding: 10px 20px;
        border-radius: 20px;
        font-weight: bold;
        text-align: center;
        min-width: 120px;
    }
    
    .view-icon {
        font-size: 20px;
        margin-left: 5px;
    }
    
    .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #666;
    }
    
    @media (max-width: 768px) {
        .popular-card {
            grid-template-columns: 1fr;
            text-align: center;
        }
        
        .rank-badge {
            margin: 0 auto;
        }
    }
</style>

<div class="popular-header">
    <h1>ğŸ”¥ Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>
    <p>Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</p>
</div>

<div class="popular-list">
    {% if products %}
    {% for product in products %}
    <a href="{% url 'shop:product_detail' product.id %}" style="text-decoration: none; color: inherit;">
        <div class="popular-card">
            <div class="rank-badge">
                {{ forloop.counter }}
            </div>
            
            <div class="product-info">
                <h3>{{ product.name }}</h3>
                <p style="color: #666; margin-bottom: 10px;">{{ product.description|truncatewords:15 }}</p>
                <div style="color: #2ecc71; font-weight: bold; font-size: 1.1rem;">
                    {{ product.price }} ØªÙˆÙ…Ø§Ù†
                </div>
            </div>
            
            <div class="view-count">
                <span>{{ product.view_count }}</span>
                <span class="view-icon">ğŸ‘ï¸</span>
                <div style="font-size: 0.9rem; color: #7f8c8d;">Ø¨Ø§Ø²Ø¯ÛŒØ¯</div>
            </div>
        </div>
    </a>
    {% endfor %}
    {% else %}
    <div class="empty-state">
        <h3>ğŸ“Š Ù‡Ù†ÙˆØ² Ø¢Ù…Ø§Ø±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</h3>
        <p>Ù¾Ø³ Ø§Ø² Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø§Ø² Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ø¢Ù…Ø§Ø± Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
        <a href="{% url 'shop:product_list' %}" style="display: inline-block; margin-top: 20px; padding: 12px 30px; background: #4361ee; color: white; border-radius: 8px; text-decoration: none;">
            Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}